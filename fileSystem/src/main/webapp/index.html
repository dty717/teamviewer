<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>Hello World</title>
        <style type="text/css" media="all">
            body{
                height: 90hv;
                width: 100%;
            }
            
        </style>
        
    <style id="test_css"></style>
    <script src="https://kazuhikoarase.github.io/qrcode-generator/js/qrcode.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.3.0/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.js"></script>
    

        
    </head>
    <body ondrop="dropHandler(event);" ondragover="dragOverHandler(event);">
        Hello World
    <script type="text/javascript" charset="utf-8">
        function dropHandler(ev) {
          ev.preventDefault();
          if (ev.dataTransfer.items) {
        	for (var i = 0; i < ev.dataTransfer.items.length; i++) {
              if (ev.dataTransfer.items[i].kind === 'file') {
                var file = ev.dataTransfer.items[i].getAsFile();
                //console.log('... file[' + i + '].name = ' + file.name);
        		uploadFile(file);
        		break;
              }
            }
          } else {
            uploadFile(ev.dataTransfer.files[0]);
          } 
          removeDragData(ev)
        }
        function dragOverHandler(ev) {
          ev.preventDefault();
        }
        function removeDragData(ev) {
          if (ev.dataTransfer.items) {
            ev.dataTransfer.items.clear();
          } else {
            ev.dataTransfer.clearData();
          }
        }
        function uploadFile(file){
        	if(file==undefined)
        		return;
            var formData = new FormData();
              
            formData.append("path","/usr/file");
            formData.append("file",file);
            $.ajax({
                url: 'uploadFile',
                type: 'POST',
                data: formData,
                enctype: 'multipart/form-data',
                //contentType:"application/x-javascript; charset:ISO-8859-1"
                processData: false,
                contentType: false,
                cache: false,
                success: function (response) {
                    alert("ok")
                }
            });
        }

        
        
    </script>        
    </body>
</html>